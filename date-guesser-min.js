"use strict";(function(){function normalize(date){return"undefined"==typeof date||!date.length>1?!1:(" "+date.toLowerCase()).replace(/[^\w\s']/g," ").replace(/([a-z]{1,})/g," $1 ").replace(/ 0([1-9]{1,})/g," $1").replace(/\b(e|th|rd)\b/g,"").replace(/\s{2,}/g," ").trim()}function isYear(s){return/[1-9][0-9]{3,}/.test(s)}function isShortYear(s){return/'[0-9]{2,}/.test(s)}function isInt(s){return/[0-9]+/.test(s)}function isNotNumeric(s){return/[^0-9]/.test(s)}function isAmbiguousDate(a,b){return 12>=+a&&12>=+b}function lookupMonth(m){var mapping={j:1,jan:1,yan:1,f:2,feb:2,fev:2,"fév":2,mar:3,mrt:3,"mär":3,apr:4,avr:4,may:5,mei:5,mai:5,jun:6,juin:6,iyn:6,jul:7,juil:7,iyl:7,aug:8,aou:8,"aoû":8,avq:8,sep:9,sen:9,oct:10,okt:10,nov:11,noy:11,dec:12,"déc":12,dez:12,des:12,dek:12};return m in mapping?mapping[m]:m.slice(0,3)in mapping?mapping[m.slice(0,3)]:-1}function acceptableDayMonthCombo(day,month){var feb=function(day){return 29>=day},A=function(day){return 30>=day},B=function(day){return 31>=day},combo={1:A,2:feb,3:A,4:B,5:A,6:B,7:A,8:B,9:A,10:B,11:A,12:B};return combo.hasOwnProperty(month)&&combo[month](day)}function endOfMonth(month){var feb=28,A=30,B=31,combo={1:A,2:feb,3:A,4:B,5:A,6:B,7:A,8:B,9:A,10:B,11:A,12:B};return combo.hasOwnProperty(month)?combo[month]:0}function parse(date,cMonth,cDay){if("undefined"==typeof date||!date.length>1)return!1;var year=null,month=null,day=null;date=date.toString();for(var parts=normalize(date).split(" "),i=0;i<parts.length;i++)if(isYear(parts[i])||isShortYear(parts[i])){if(year=parts[i],isShortYear(year)){var tmp=(new Date).getFullYear().toString().slice(0,2);year=tmp+parts[i].slice(1)}parts.splice(i,1);break}for(var foundMonth=!1,i=0;i<parts.length;i++)if(isNotNumeric(parts[i])&&(month=lookupMonth(parts[i]),month>=0)){foundMonth=!0,parts.splice(i,1);break}if(parts=parts.filter(function(p){return isInt(p)&&31>=+p}),foundMonth?day=parts[0]?+parts[0]:"end"===cDay?endOfMonth(month):1:parts.length>=2?(month=-1,isAmbiguousDate(parts[0],parts[1])||+parts[0]>12?(day=parts[0],month=parts[1]):(day=parts[1],month=parts[0])):1===parts.length&&+parts[0]<=12&&(month=+parts[0]),year&&year>1800&&(!day&&!month||acceptableDayMonthCombo(day,month))){day||(day="end"===cDay?endOfMonth(month||cMonth):1);var current=new Date(year,(month||cMonth)-1,day);return current}return!1}var guesser={parse:parse,norm:normalize};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=guesser),exports.date_guesser=guesser):this.date_guesser=guesser}).call(this);